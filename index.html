<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오늘의 운세</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter 폰트 적용 */
        body {
            font-family: "Inter", sans-serif;
        }
        /* 운세 결과 div 애니메이션 */
        .fortune-result-animation {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInSlideUp 0.5s ease-out forwards;
        }

        @keyframes fadeInSlideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        /* 카카오 애드핏 반응형 */
        .kakao_ad_area {
            width: 100% !important; /* 부모 요소에 맞게 너비 조절 */
        }
        .kakao_ad_area iframe {
            max-width: 100% !important; /* iframe의 최대 너비 제한 */
            margin: 0 auto; /* 중앙 정렬 */
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 min-h-screen flex items-center justify-center p-4">
    <div class="bg-white p-8 rounded-2xl shadow-xl w-full max-w-md">
        <!-- 상단 광고 코드 시작 -->
        <div class="mb-8 flex justify-center w-full overflow-hidden"> <!-- overflow-hidden 추가 -->
            <ins class="kakao_ad_area" style="display:block; width:100%;"
            data-ad-unit = "DAN-MrvlJVBypx2GLFMm"
            data-ad-width = "320" <!-- 너비를 320으로 조정하여 max-w-md에 맞도록 -->
            data-ad-height = "50"></ins> <!-- 높이도 적절히 조정 -->
            <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
        </div>
        <!-- 상단 광고 코드 끝 -->

        <h1 class="text-3xl font-extrabold text-center text-gray-800 mb-6">🔮 오늘의 운세 🔮</h1>

        <div class="mb-6">
            <label for="birthDate" class="block text-gray-700 text-sm font-bold mb-2">생년월일 입력 (YYYY-MM-DD):</label>
            <input type="date" id="birthDate"
                   class="shadow appearance-none border rounded-xl w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 transition duration-300 mb-4">

            <div class="flex items-center justify-center space-x-6 mb-4">
                <label class="inline-flex items-center">
                    <input type="radio" name="calendarType" value="solar" checked
                           class="form-radio h-4 w-4 text-purple-600 rounded-full focus:ring-purple-500 transition duration-300">
                    <span class="ml-2 text-gray-700 font-medium">양력</span>
                </label>
                <label class="inline-flex items-center">
                    <input type="radio" name="calendarType" value="lunar"
                           class="form-radio h-4 w-4 text-purple-600 rounded-full focus:ring-purple-500 transition duration-300">
                    <span class="ml-2 text-gray-700 font-medium">음력</span>
                </label>
            </div>

            <label for="birthHour" class="block text-gray-700 text-sm font-bold mb-2">태어난 시간 (선택 사항):</label>
            <div class="flex space-x-3">
                <input type="number" id="birthHour" placeholder="시 (0-23)" min="0" max="23"
                       class="shadow appearance-none border rounded-xl w-1/2 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 transition duration-300">
                <input type="number" id="birthMinute" placeholder="분 (0-59)" min="0" max="59"
                       class="shadow appearance-none border rounded-xl w-1/2 py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline focus:border-blue-500 transition duration-300">
            </div>
        </div>

        <div class="flex space-x-4 mb-4">
            <button id="getFortuneBtn"
                    class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-xl focus:outline-none focus:shadow-outline transition duration-300 transform hover:scale-105 shadow-lg">
                운세 보기
            </button>
            <button id="resetBtn"
                    class="flex-1 bg-gray-400 hover:bg-gray-500 text-white font-bold py-3 px-4 rounded-xl focus:outline-none focus:shadow-outline transition duration-300 transform hover:scale-105 shadow-lg">
                다시 보기
            </button>
        </div>

        <div id="fortuneResult" class="mt-8 p-6 bg-blue-50 rounded-xl border border-blue-200 text-center text-gray-800 text-lg font-semibold min-h-[100px] flex items-center justify-center shadow-inner">
            생년월일을 입력하고 '운세 보기' 버튼을 눌러주세요.
        </div>

        <!-- 기존 하단 광고 코드 -->
        <div class="mt-8 flex justify-center w-full">
            <ins class="kakao_ad_area" style="display:none;"
                data-ad-unit = "DAN-KccXer7GRmtiSjx8"
                data-ad-width = "300"
                data-ad-height = "250"></ins>
            <script type="text/javascript" src="//t1.daumcdn.net/kas/static/ba.min.js" async></script>
        </div>
    </div>

    <script>
        // 운세 메시지 배열 (다양한 운세 메시지를 추가할 수 있습니다)
        const fortuneMessages = [
            "오늘은 새로운 기회가 찾아올 수 있습니다. 긍정적인 마음으로 맞이하세요!",
            "작은 노력들이 큰 결실을 맺는 하루가 될 것입니다. 꾸준함을 잊지 마세요.",
            "인간관계에서 좋은 소식이 들려올 수 있습니다. 주변 사람들에게 관심을 기울여보세요.",
            "예상치 못한 행운이 따를 수 있습니다. 복권 한 장 사보는 건 어떠세요?",
            "오늘은 휴식을 취하고 재충전하는 데 집중하는 것이 좋습니다. 너무 무리하지 마세요.",
            "새로운 도전에 나서기에 좋은 날입니다. 용기를 내어 한 발짝 내디뎌 보세요.",
            "재물운이 따르는 하루입니다. 지출을 현명하게 관리하면 더욱 좋습니다.",
            "건강에 유의해야 하는 날입니다. 가벼운 운동이나 스트레칭으로 몸을 풀어주세요.",
            "오랫동안 기다려온 소식이 들려올 수 있습니다. 희망을 잃지 마세요.",
            "오늘은 당신의 창의력이 빛나는 날입니다. 새로운 아이디어를 마음껏 펼쳐보세요.",
            "갈등이 해결되고 화합을 이루는 하루가 될 것입니다. 먼저 손을 내밀어 보세요.",
            "여행이나 새로운 경험을 하기에 좋은 날입니다. 일상에서 벗어나 보세요.",
            "학업이나 업무에서 좋은 성과를 거둘 수 있습니다. 집중력을 발휘해 보세요.",
            "오늘은 당신의 매력이 돋보이는 날입니다. 자신감을 가지고 사람들을 만나보세요.",
            "뜻밖의 선물을 받거나 기분 좋은 일이 생길 수 있습니다. 기대해도 좋습니다.",
            "과거의 노력이 보상받는 날입니다. 그동안의 수고를 스스로 칭찬해주세요.",
            "오늘은 마음의 평화를 찾는 데 집중하세요. 명상이나 차분한 활동이 도움이 됩니다.",
            "새로운 인연을 만날 수 있는 기회가 있습니다. 마음을 열고 다가가 보세요.",
            "당신의 직관이 빛나는 하루입니다. 중요한 결정을 내릴 때 내면의 소리에 귀 기울이세요.",
            "오늘은 주변 사람들에게 도움을 줄 수 있는 기회가 찾아옵니다. 베푸는 기쁨을 느껴보세요.",
            "오늘은 당신의 노력이 결실을 맺는 날입니다. 자신감을 가지고 나아가세요.",
            "새로운 아이디어가 떠오를 수 있습니다. 메모하고 실행에 옮겨보세요.",
            "작은 변화가 큰 행복을 가져올 수 있습니다. 주변을 둘러보세요.",
            "오늘은 긍정적인 에너지가 가득한 날입니다. 활기차게 하루를 보내세요.",
            "어려움이 있다면 주변에 도움을 요청하세요. 혼자 고민하지 마세요.",
            "오늘은 새로운 취미를 시작하기에 좋은 날입니다. 흥미로운 것을 찾아보세요.",
            "당신의 숨겨진 재능을 발견할 수 있습니다. 다양한 경험을 해보세요.",
            "오늘은 행운이 따르는 날입니다. 예상치 못한 좋은 일이 생길 수 있습니다.",
            "마음의 여유를 가지고 주변을 돌아보세요. 소소한 행복을 찾을 수 있습니다.",
            "오늘은 당신의 리더십이 필요한 날입니다. 자신감을 가지고 이끌어 보세요.",
            "오늘은 새로운 시작을 위한 완벽한 날입니다. 망설이지 말고 도전하세요.",
            "당신의 열정이 주변에 긍정적인 영향을 미칠 것입니다. 에너지를 발산하세요.",
            "오늘은 중요한 결정을 내리기에 좋은 날입니다. 신중하게 생각하고 행동하세요.",
            "작은 성공들이 모여 큰 성과를 이룰 것입니다. 꾸준히 노력하세요.",
            "오늘은 당신의 매력이 빛나는 날입니다. 사람들과 즐거운 시간을 보내세요.",
            "뜻밖의 좋은 소식이 들려올 수 있습니다. 마음을 열고 기다리세요.",
            "오늘은 자신을 위한 시간을 가지세요. 휴식과 재충전이 필요합니다.",
            "새로운 지식을 습득하기에 좋은 날입니다. 배우고 성장하는 기회를 잡으세요.",
            "오늘은 주변 사람들에게 감사하는 마음을 표현하세요. 관계가 더욱 돈독해질 것입니다.",
            "당신의 창의적인 아이디어가 빛을 발할 것입니다. 과감하게 시도하세요.",
            "오늘은 예상치 못한 행운이 따를 수 있습니다. 긍정적인 기대를 가지세요.",
            "작은 어려움에 흔들리지 마세요. 당신은 강하고 현명합니다.",
            "오늘은 당신의 노력이 인정받는 날입니다. 자부심을 가지세요.",
            "새로운 만남이 당신의 삶에 활력을 불어넣을 것입니다. 마음을 열어두세요.",
            "오늘은 건강 관리에 신경 쓰세요. 몸과 마음의 균형이 중요합니다.",
            "당신의 긍정적인 에너지가 주변을 밝힐 것입니다. 미소를 잃지 마세요.",
            "오늘은 중요한 계약이나 약속을 하기에 좋은 날입니다. 신중하게 검토하세요.",
            "작은 변화가 큰 행복을 가져올 수 있습니다. 새로운 시도를 해보세요.",
            "오늘은 당신의 직관을 믿으세요. 내면의 목소리가 정답을 알려줄 것입니다.",
            "주변 사람들과 협력하면 더 큰 성과를 이룰 수 있습니다. 함께 나아가세요.",
            "오늘은 당신의 재능을 발휘할 기회가 찾아옵니다. 자신감을 가지세요.",
            "뜻밖의 도움이 찾아올 수 있습니다. 감사하는 마음을 잊지 마세요.",
            "오늘은 마음의 평화를 찾으세요. 조용히 자신을 돌아보는 시간을 가지세요.",
            "새로운 목표를 설정하고 계획을 세우기에 좋은 날입니다. 구체적으로 생각하세요.",
            "오늘은 당신의 노력이 빛을 발할 것입니다. 꾸준함이 중요합니다.",
            "작은 일에도 최선을 다하세요. 성실함이 당신을 성공으로 이끌 것입니다.",
            "오늘은 주변 사람들에게 따뜻한 말을 건네세요. 긍정적인 에너지를 나누세요.",
            "당신의 끈기가 필요한 날입니다. 포기하지 않고 나아가세요.",
            "오늘은 새로운 것을 배우기에 좋은 날입니다. 호기심을 가지세요.",
            "예상치 못한 기회가 찾아올 수 있습니다. 놓치지 말고 잡으세요.",
            "오늘은 당신의 지혜가 필요한 날입니다. 현명한 판단을 내리세요.",
            "주변 사람들과 소통하며 오해를 풀기에 좋은 날입니다. 솔직하게 대화하세요.",
            "오늘은 당신의 감정을 솔직하게 표현하세요. 진심은 통합니다.",
            "작은 행복을 소중히 여기세요. 일상 속에서 기쁨을 찾으세요.",
            "오늘은 당신의 인내심이 필요한 날입니다. 차분하게 기다리세요.",
            "새로운 아이디어가 떠오르면 즉시 기록하세요. 소중한 자산이 될 것입니다.",
            "오늘은 당신의 노력이 빛을 발할 것입니다. 그동안의 수고를 보상받으세요.",
            "주변 사람들에게 긍정적인 영향을 미치세요. 당신은 좋은 본보기입니다.",
            "오늘은 당신의 재능을 마음껏 펼치세요. 숨기지 말고 보여주세요.",
            "뜻밖의 행운이 찾아올 수 있습니다. 감사하는 마음으로 받아들이세요.",
            "오늘은 당신의 건강을 최우선으로 생각하세요. 몸과 마음을 돌보세요.",
            "새로운 목표를 향해 나아가세요. 당신은 할 수 있습니다.",
            "오늘은 당신의 열정이 주변을 감동시킬 것입니다. 뜨겁게 불태우세요.",
            "작은 실패에 좌절하지 마세요. 그것은 더 큰 성공을 위한 과정입니다.",
            "오늘은 당신의 긍정적인 태도가 행운을 불러올 것입니다. 밝게 웃으세요.",
            "주변 사람들과 함께 즐거운 시간을 보내세요. 행복은 나누면 커집니다.",
            "오늘은 당신의 직관을 따르세요. 내면의 소리가 가장 정확합니다.",
            "새로운 도전을 두려워하지 마세요. 당신은 성장할 것입니다.",
            "오늘은 당신의 노력이 결실을 맺는 날입니다. 그동안의 수고가 헛되지 않을 것입니다.",
            "주변 사람들에게 따뜻한 위로를 건네세요. 당신의 말 한마디가 큰 힘이 됩니다.",
            "오늘은 당신의 매력이 빛나는 날입니다. 자신감을 가지고 행동하세요.",
            "뜻밖의 좋은 소식이 당신을 기다리고 있습니다. 기대하세요.",
            "오늘은 자신을 믿으세요. 당신은 충분히 잘하고 있습니다.",
            "새로운 경험을 통해 배우고 성장하세요. 세상은 넓고 배울 것은 많습니다.",
            "오늘은 당신의 긍정적인 사고방식이 행운을 불러올 것입니다. 긍정적으로 생각하세요.",
            "주변 사람들과 소통하며 관계를 돈독히 하세요. 함께하는 기쁨을 누리세요.",
            "오늘은 당신의 집중력이 필요한 날입니다. 중요한 일에 몰두하세요.",
            "작은 성취에도 감사하세요. 그것이 더 큰 성공의 발판이 됩니다.",
            "오늘은 당신의 인내심이 시험받는 날입니다. 침착하게 대응하세요.",
            "새로운 아이디어를 구체화하세요. 당신의 생각이 현실이 될 것입니다.",
            "오늘은 당신의 노력이 빛을 발할 것입니다. 꾸준함이 당신의 무기입니다.",
            "주변 사람들에게 영감을 주세요. 당신의 행동이 누군가에게는 희망이 됩니다.",
            "오늘은 당신의 재능을 마음껏 펼치세요. 당신은 특별합니다.",
            "뜻밖의 행운이 당신을 찾아올 것입니다. 감사하는 마음을 가지세요.",
            "오늘은 당신의 건강을 최우선으로 생각하세요. 몸과 마음을 돌보세요.",
            "새로운 목표를 향해 나아가세요. 당신은 할 수 있습니다.",
            "오늘은 당신의 열정이 주변을 감동시킬 것입니다. 뜨겁게 불태우세요.",
            "작은 실패에 연연하지 마세요. 그것은 성공으로 가는 길목입니다.",
            "오늘은 당신의 긍정적인 에너지가 주변을 밝힐 것입니다. 밝은 기운을 전파하세요.",
            "주변 사람들과 함께 즐거운 추억을 만드세요. 행복은 함께할 때 더욱 커집니다.",
            "오늘은 당신의 직관을 따르세요. 당신의 감이 옳을 때가 많습니다.",
            "새로운 도전을 두려워하지 마세요. 당신은 강합니다.",
            "오늘은 당신의 노력이 결실을 맺는 날입니다. 수고 많으셨습니다.",
            "주변 사람들에게 따뜻한 마음을 나누세요. 당신의 온기가 세상을 따뜻하게 합니다.",
            "오늘은 행운의 여신이 당신 편입니다. 긍정적인 변화를 기대하세요!",
            "당신의 숨겨진 잠재력이 폭발하는 날입니다. 자신을 믿고 나아가세요.",
            "오늘은 중요한 인물을 만나게 될 수 있습니다. 좋은 인상을 남기세요.",
            "작은 배려가 큰 감동으로 돌아올 것입니다. 주변을 돌아보세요.",
            "오늘은 당신의 소원이 이루어질 수 있습니다. 간절히 바라고 노력하세요.",
            "새로운 기회가 문을 두드립니다. 용기를 내어 문을 열어보세요.",
            "오늘은 당신의 노력이 빛나는 날입니다. 그동안의 수고가 헛되지 않을 것입니다.",
            "주변 사람들과의 관계에서 행복을 찾으세요. 소중한 인연을 지키세요.",
            "오늘은 당신의 지혜가 필요한 날입니다. 현명한 판단으로 위기를 극복하세요.",
            "뜻밖의 수입이 생길 수 있습니다. 재정 관리에 신경 쓰세요.",
            "오늘은 건강에 특히 유의하세요. 충분한 휴식과 영양 섭취가 중요합니다.",
            "당신의 긍정적인 에너지가 주변을 밝힐 것입니다. 밝은 미소를 유지하세요.",
            "오늘은 새로운 것을 배우기에 좋은 날입니다. 호기심을 가지고 탐구하세요.",
            "작은 변화가 큰 행복을 가져올 수 있습니다. 새로운 시도를 두려워하지 마세요.",
            "오늘은 당신의 직관을 믿으세요. 내면의 목소리가 올바른 길을 알려줄 것입니다.",
            "주변 사람들과 협력하면 더 큰 성과를 이룰 수 있습니다. 함께 힘을 모으세요.",
            "오늘은 당신의 재능을 발휘할 기회가 찾아옵니다. 자신감을 가지고 도전하세요.",
            "뜻밖의 선물이 당신을 기다리고 있습니다. 감사하는 마음으로 받으세요.",
            "오늘은 마음의 평화를 찾으세요. 명상이나 요가로 스트레스를 해소하세요.",
            "새로운 목표를 설정하고 계획을 세우세요. 구체적인 목표가 중요합니다.",
            "오늘은 당신의 노력이 결실을 맺는 날입니다. 꾸준함이 당신의 성공을 이끌 것입니다.",
            "작은 일에도 최선을 다하세요. 성실함이 당신의 가장 큰 자산입니다.",
            "오늘은 주변 사람들에게 따뜻한 말을 건네세요. 긍정적인 에너지를 나누세요.",
            "당신의 끈기가 필요한 날입니다. 포기하지 않고 끝까지 나아가세요.",
            "오늘은 새로운 것을 배우기에 좋은 날입니다. 지식을 쌓고 성장하세요.",
            "예상치 못한 기회가 찾아올 수 있습니다. 기회를 놓치지 마세요.",
            "오늘은 당신의 지혜가 필요한 날입니다. 현명한 판단으로 문제를 해결하세요.",
            "주변 사람들과 소통하며 오해를 풀기에 좋은 날입니다. 솔직하게 대화하세요.",
            "오늘은 당신의 감정을 솔직하게 표현하세요. 진심은 통합니다.",
            "작은 행복을 소중히 여기세요. 일상 속에서 감사함을 찾으세요.",
            "오늘은 당신의 인내심이 필요한 날입니다. 차분하게 기다리고 때를 기다리세요.",
            "새로운 아이디어가 떠오르면 즉시 기록하세요. 소중한 아이디어를 놓치지 마세요.",
            "오늘은 당신의 노력이 빛을 발할 것입니다. 그동안의 수고를 보상받으세요.",
            "주변 사람들에게 긍정적인 영향을 미치세요. 당신은 좋은 본보기입니다.",
            "오늘은 당신의 재능을 마음껏 펼치세요. 숨기지 말고 보여주세요.",
            "뜻밖의 행운이 찾아올 수 있습니다. 감사하는 마음으로 받아들이세요.",
            "오늘은 당신의 건강을 최우선으로 생각하세요. 몸과 마음을 돌보세요.",
            "새로운 목표를 향해 나아가세요. 당신은 할 수 있습니다.",
            "오늘은 당신의 열정이 주변을 감동시킬 것입니다. 뜨겁게 불태우세요.",
            "작은 실패에 연연하지 마세요. 그것은 성공으로 가는 길목입니다.",
            "오늘은 당신의 긍정적인 에너지가 주변을 밝힐 것입니다. 밝은 기운을 전파하세요.",
            "주변 사람들과 함께 즐거운 추억을 만드세요. 행복은 함께할 때 더욱 커집니다.",
            "오늘은 당신의 직관을 따르세요. 당신의 감이 옳을 때가 많습니다.",
            "새로운 도전을 두려워하지 마세요. 당신은 강합니다.",
            "오늘은 당신의 노력이 결실을 맺는 날입니다. 수고 많으셨습니다.",
            "주변 사람들에게 따뜻한 마음을 나누세요. 당신의 온기가 세상을 따뜻하게 합니다."
        ];

        // 행운의 색상 배열
        const luckyColors = [
            "빨간색", "파란색", "초록색", "노란색", "주황색",
            "보라색", "검은색", "흰색", "분홍색", "하늘색",
            "갈색", "회색", "금색", "은색", "청록색",
            "자주색", "남색", "베이지색", "올리브색", "벽돌색",
            "연두색", "연보라색", "연갈색", "연회색", "아이보리색",
            "코랄색", "민트색", "라벤더색", "카키색", "버건디색",
            "네이비색", "머스타드색", "살구색", "옥색", "인디핑크색",
            "에메랄드색", "마젠타색", "시안색", "테라코타색", "샌드색",
            "라임색", "아쿠아색", "로즈골드색", "샴페인골드색", "차콜색",
            "크림색", "피치색", "카멜색", "라즈베리색", "블루그레이색",
            "다크그린색", "라이트블루색", "딥블루색", "오렌지레드색", "골드브라운색",
            "레몬옐로우색", "스카이블루색", "퍼플그레이색", "웜그레이색", "쿨그레이색",
            "오프화이트색", "더스티핑크색", "세이지그린색", "미드나잇블루색", "챠콜그레이색",
            "크림슨색", "아주르색", "비리디언색", "마룬색", "인디고색",
            "올리브그린색", "페일핑크색", "라이트그레이색", "다크레드색", "브론즈색",
            "코발트블루색", "라일락색", "탠저린색", "시트러스옐로우색", "포레스트그린색",
            "아이스블루색", "토마토레드색", "라임그린색", "스틸블루색", "샌드베이지색",
            "피스타치오그린색", "푸시아색", "네온그린색", "네온핑크색", "네온오렌지색",
            "라피스블루색", "아메시스트색", "토파즈색", "오닉스색", "사파이어색",
            "루비색", "에메랄드그린색", "진주색", "은회색", "금회색",
            "청록색", "자몽색", "카키그린색", "로즈핑크색", "라일락퍼플색",
            "스모키블루색", "샌드그레이색", "올리브브라운색", "코퍼색", "골드옐로우색",
            "실버그레이색", "스카이그레이색", "미드나잇그린색", "딥퍼플색", "오션블루색",
            "피치오렌지색", "라임옐로우색", "민트그린색", "아쿠아마린색", "베이비블루색",
            "라즈베리레드색", "살몬핑크색", "탠색", "크림슨레드색", "버건디레드색",
            "에그플랜트색", "시트러스그린색", "파우더블루색", "초콜릿브라운색", "그레이쉬블루색",
            "머스타드옐로우색", "오렌지브라운색", "페일그린색", "라이트퍼플색", "스톤그레이색",
            "블루블랙색", "그레이블루색", "아쿠아그린색", "코랄핑크색", "레몬그린색",
            "다크퍼플색", "라이트브라운색", "딥그린색", "블랙그레이색", "골든옐로우색",
            "실버블루색", "스카이블랙색", "미드나잇퍼플색", "오션그린색", "피치핑크색",
            "라임블루색", "민트블루색", "아쿠아블루색", "베이비핑크색", "라즈베리블루색",
            "살몬블루색", "탠블루색", "크림슨블루색", "버건디블루색", "에그플랜트블루색",
            "시트러스블루색", "파우더그린색", "초콜릿블루색", "그레이쉬그린색", "머스타드블루색",
            "오렌지블루색", "페일블루색", "라이트오렌지색", "딥오렌지색", "블랙오렌지색"
        ];

        // 행운의 숫자 배열 (1부터 99까지)
        const luckyNumbers = Array.from({length: 99}, (_, i) => i + 1);

        // 띠 정보를 가져오는 함수
        function getZodiacSign(birthYear) {
            const zodiacSigns = [
                { name: "쥐", emoji: "🐭" },
                { name: "소", emoji: "🐮" },
                { name: "호랑이", emoji: "🐯" },
                { name: "토끼", emoji: "🐰" },
                { name: "용", emoji: "🐉" },
                { name: "뱀", emoji: "🐍" },
                { name: "말", emoji: "🐴" },
                { name: "양", emoji: "🐑" },
                { name: "원숭이", emoji: "🐒" },
                { name: "닭", emoji: "🐔" },
                { name: "개", emoji: "🐶" },
                { name: "돼지", emoji: "🐷" }
            ];
            // 1900년을 쥐띠 해로 기준 (1900 % 12 = 4, 쥐띠는 인덱스 0)
            // 띠는 12지신을 따르므로, 12로 나눈 나머지를 이용
            // 한국의 띠는 음력 설날을 기준으로 바뀌지만, 여기서는 편의상 양력 연도를 사용합니다.
            const startYear = 1900; // 쥐띠 시작 연도
            const index = (birthYear - startYear) % 12;
            return zodiacSigns[index < 0 ? index + 12 : index]; // 음수 인덱스 방지
        }

        // '운세 보기' 버튼 클릭 이벤트 리스너
        document.getElementById('getFortuneBtn').addEventListener('click', () => {
            const birthDateInput = document.getElementById('birthDate').value;
            const hour = document.getElementById('birthHour').value || 0; // 기본값 0
            const minute = document.getElementById('birthMinute').value || 0; // 기본값 0
            const calendarType = document.querySelector('input[name="calendarType"]:checked').value;
            const fortuneResultDiv = document.getElementById('fortuneResult');

            // 입력 유효성 검사
            if (!birthDateInput) {
                fortuneResultDiv.innerHTML = '<span class="text-red-600">생년월일을 입력해주세요!</span>';
                return;
            }

            // YYYY-MM-DD 형식의 문자열을 Date 객체로 파싱
            const [yearStr, monthStr, dayStr] = birthDateInput.split('-');
            const year = parseInt(yearStr);
            const month = parseInt(monthStr);
            const day = parseInt(dayStr);

            const birthDate = new Date(year, month - 1, day); // JavaScript Date 객체는 월이 0부터 시작

            // 날짜 유효성 검사 (실제로 존재하는 날짜인지, 미래 날짜가 아닌지)
            const today = new Date();
            today.setHours(0, 0, 0, 0); // 오늘 날짜만 비교하기 위해 시간 초기화

            const inputDateOnly = new Date(year, month - 1, day);
            inputDateOnly.setHours(0, 0, 0, 0); // 입력 날짜만 비교하기 위해 시간 초기화


            if (isNaN(birthDate.getTime()) || // 유효하지 않은 날짜 형식
                birthDate.getFullYear() !== year || // Date 객체 변환 후 연도가 다르면 유효하지 않은 날짜 (예: 2월 30일)
                birthDate.getMonth() + 1 !== month || // Date 객체 변환 후 월이 다르면 유효하지 않은 날짜
                birthDate.getDate() !== day || // Date 객체 변환 후 일이 다르면 유효하지 않은 날짜
                inputDateOnly > today // 미래 날짜인지 확인
            ) {
                fortuneResultDiv.innerHTML = '<span class="text-red-600">유효하지 않은 생년월일입니다. 다시 확인해주세요.</span>';
                return;
            }

            // 오늘 날짜 정보 가져오기
            const todayYear = today.getFullYear();
            const todayMonth = today.getMonth() + 1; // getMonth()는 0부터 시작
            const todayDay = today.getDate();

            // 띠 계산
            const zodiacInfo = getZodiacSign(year); // 띠 이름과 이모지를 포함한 객체 반환

            // 운세, 행운 색상, 행운 숫자 생성을 위한 시드 (오늘 날짜 + 생년월일 + 시간)
            // 같은 날 같은 생년월일과 시간을 넣으면 같은 결과가 나오도록 설정
            const seed = todayYear * 10000000000 + todayMonth * 100000000 + todayDay * 1000000 +
                         year * 10000 + month * 100 + day +
                         parseInt(hour) * 60 + parseInt(minute);

            // 간단한 의사 난수 생성 함수 (결과 일관성을 위해 사용)
            function pseudoRandom(s) {
                let x = Math.sin(s++) * 10000;
                return x - Math.floor(x);
            }

            // 운세 생성
            const fortuneRandom = pseudoRandom(seed);
            const fortuneIndex = Math.floor(fortuneRandom * fortuneMessages.length);
            const fortune = fortuneMessages[fortuneIndex];

            // 행운의 색상 생성
            const colorRandom = pseudoRandom(seed + 1); // 다른 시드로 독립성 확보
            const luckyColorIndex = Math.floor(colorRandom * luckyColors.length);
            const luckyColor = luckyColors[luckyColorIndex];

            // 행운의 숫자 생성
            const numberRandom = pseudoRandom(seed + 2); // 또 다른 시드로 독립성 확보
            const luckyNumberIndex = Math.floor(numberRandom * luckyNumbers.length);
            const luckyNumber = luckyNumbers[luckyNumberIndex];

            // 태어난 시간 정보
            let birthTimeInfo = '';
            // 시와 분이 모두 입력되었거나, 시만 입력되었거나, 분만 입력되었을 경우
            if (document.getElementById('birthHour').value && document.getElementById('birthMinute').value) {
                birthTimeInfo = `${parseInt(hour)}시 ${parseInt(minute)}분`;
            } else if (document.getElementById('birthHour').value) {
                birthTimeInfo = `${parseInt(hour)}시`;
            } else if (document.getElementById('birthMinute').value) {
                birthTimeInfo = `${parseInt(minute)}분`;
            }
            if (birthTimeInfo) {
                birthTimeInfo = ` (${birthTimeInfo} 출생)`;
            }

            // 결과 표시
            // 기존 내용을 비우고 애니메이션 클래스 추가
            fortuneResultDiv.innerHTML = '';
            fortuneResultDiv.classList.add('fortune-result-animation');

            // 애니메이션 완료 후 내용 추가 (선택 사항: 즉시 추가해도 무방)
            setTimeout(() => {
                fortuneResultDiv.innerHTML = `
                    <div class="text-center">
                        <p class="text-xl font-bold mb-2">✨ 오늘의 운세 ✨</p>
                        <p class="text-sm text-gray-500 mb-4">
                            ${todayYear}년 ${todayMonth}월 ${todayDay}일 오늘의 운세
                        </p>
                        <p class="text-base">${fortune}</p>
                        <p class="text-sm text-gray-500 mt-3">
                            ${year}년 ${month}월 ${day}일 (${calendarType === 'solar' ? '양력' : '음력'}) ${birthTimeInfo}
                        </p>
                        <p class="text-sm text-gray-500 mt-1">
                            당신은 <span class="font-bold text-blue-600">${zodiacInfo.name}띠 ${zodiacInfo.emoji}</span> 입니다.
                        </p>
                        <p class="text-sm text-gray-500 mt-3">
                            오늘의 행운 색상: <span class="font-bold text-green-600">${luckyColor}</span>
                        </p>
                        <p class="text-sm text-gray-500 mt-1">
                            오늘의 행운 숫자: <span class="font-bold text-green-600">${luckyNumber}</span>
                        </p>
                    </div>
                `;
                 // 애니메이션 클래스 제거 (다음 운세 보기 시 재적용을 위해)
                fortuneResultDiv.classList.remove('fortune-result-animation');
            }, 100); // 짧은 지연 후 내용 추가
        });

        // '다시 보기' 버튼 클릭 이벤트 리스너
        document.getElementById('resetBtn').addEventListener('click', () => {
            const fortuneResultDiv = document.getElementById('fortuneResult');
            // 입력 필드 초기화
            document.getElementById('birthDate').value = ''; // 날짜 입력 필드 초기화
            document.getElementById('birthHour').value = '';
            document.getElementById('birthMinute').value = '';
            document.querySelector('input[name="calendarType"][value="solar"]').checked = true; // 양력 기본 선택

            // 결과 영역 초기화
            fortuneResultDiv.innerHTML = '생년월일을 입력하고 \'운세 보기\' 버튼을 눌러주세요.';
            fortuneResultDiv.classList.remove('fortune-result-animation'); // 애니메이션 클래스 제거
        });

        // 현재 날짜를 기준으로 날짜 입력 필드의 최대값 설정 (미래 날짜 선택 방지)
        document.addEventListener('DOMContentLoaded', () => {
            const today = new Date();
            const year = today.getFullYear();
            const month = (today.getMonth() + 1).toString().padStart(2, '0'); // 월은 0부터 시작하므로 +1
            const day = today.getDate().toString().padStart(2, '0');
            const maxDate = `${year}-${month}-${day}`;
            document.getElementById('birthDate').setAttribute('max', maxDate);
        });
    </script>
</body>
</html>
